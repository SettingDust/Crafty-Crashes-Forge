plugins {
    id("dev.architectury.loom") version "1.3.+"
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

archivesBaseName = 'Crafty-Crashes'
version = '1.0'

repositories {
    maven {
        name = 'Jitpack'
        url 'https://jitpack.io/'
    }
}

dependencies {
    def mapping = "$versionMinecraft+build.10"

    minecraft "com.mojang:minecraft:$versionMinecraft"
    mappings "net.fabricmc:yarn:$mapping:v2"
    forge "net.minecraftforge:forge:$versionMinecraft-$versionForge"
}

sourceSets {
    main {
        java {
            srcDir 'src'
        }
        resources {
            srcDir 'resources'
        }
    }
}

processResources {
    inputs.property 'version', project.version

    from(sourceSets.main.resources.srcDirs) {
        include 'fabric.mod.json'
        expand 'version': project.version
    }

    from(sourceSets.main.resources.srcDirs) {
        exclude 'fabric.mod.json'
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}
